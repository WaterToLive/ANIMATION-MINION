<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="sprite.js"
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.5/lib/p5.min.js"></script>
</head>
<body>
<script>
    let spritesheet; 
    let spritedata;
    let animation = [];
    let horse;
    function preload() {
        spritedata = loadJSON('horse.json');
        spritesheet = loadImage('horse.png')
    }
    
    
    function setup() {
        console.log("LAST UPDATE: 1226");
        createCanvas(640,480);
        let frames = spritedata.frames;
        for (let i = 0; i < frames.length; i++) {
            let pos = frames[i].position; 
            let img = spritesheet.get(pos.x, pos.y, pos.w, pos.h);
animation.push(img);
console.log(animation);
    }
horse = new Sprite(animation,1)
    }
    function draw() {
        background(0);
        //image(animation[frameCount % animation.length],0,0);
        horse.show{} 
        horse.animate{}
    }
</script>
</body>
</html>
